import{a as q,s as u,P as l}from"./Toast-270bd26d.js";import{d as Q,q as W,r as o,o as X,c as a,s as Y,b as r,t as i,l as n,F as U,j as Z,k,a as s}from"./index-e463918c.js";import{s as b}from"./SpinerComponent-b9b9e5a2.js";const ee={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},te={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},se={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ae={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},re={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},ne={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},ie={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},pe=["src"],oe={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},de={class:"aspect-w-16 aspect-h-9"},ue=["src"],le={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},_e={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},G="https://api-chatbot.letsdoitnow.us/api",ve=Q({__name:"ArticleDetail",setup(ge){const x=W();o("");const p=o(!0),_=o(void 0),m=o([]),d=o([]),H=async()=>{p.value=!0;try{const t=await q.post(`${G}/notiondoitpage`,{pageId:_.value});t.status===200?d.value=t.data:u("Error al cargar los datos","error",3e3,l.BOTTOM_CENTER)}catch(t){console.log(t),u(`Error al cargar los datos: ${t}`,"error",3e3,l.BOTTOM_CENTER)}p.value=!1},J=async()=>{p.value=!0;try{const t=await q.post(`${G}/notiondoitpagecontent`,{pageId:_.value});t.status===200?m.value=t.data:u("Error al cargar los datos","error",3e3,l.BOTTOM_CENTER)}catch(t){console.log(t),u(`Error al cargar los datos: ${t}`,"error",3e3,l.BOTTOM_CENTER)}p.value=!1},K=t=>{if(t){const g=t.split("/");return g[g.length-1]}};return X(async()=>{typeof x.params.id=="string"&&(_.value=x.params.id),await H(),await J()}),(t,g)=>{var h,v,y,c,f,w,T,E,O;return s(),a(U,null,[(y=(v=(h=d.value)==null?void 0:h.properties)==null?void 0:v.Titulo)!=null&&y.title[0].plain_text?(s(),a("div",{key:0,style:Y(`background-image: url(${(w=(f=(c=d.value)==null?void 0:c.cover)==null?void 0:f.external)==null?void 0:w.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[r("h1",ee,i((O=(E=(T=d.value)==null?void 0:T.properties)==null?void 0:E.Titulo)==null?void 0:O.title[0].plain_text),1)],4)):n("",!0),(s(!0),a(U,null,Z(m.value.results,e=>{var B,N,C,R,$,M,I,P,S,V,j,z,A,D,F,L;return s(),a("div",te,[(e==null?void 0:e.type)=="heading_1"?(s(),a("div",se,[r("h2",null,i((N=(B=e==null?void 0:e.heading_1)==null?void 0:B.rich_text[0])==null?void 0:N.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_2"?(s(),a("div",ae,[r("h3",null,i((R=(C=e==null?void 0:e.heading_2)==null?void 0:C.rich_text[0])==null?void 0:R.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_3"?(s(),a("div",re,[r("h4",null,i((M=($=e==null?void 0:e.heading_3)==null?void 0:$.rich_text[0])==null?void 0:M.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="paragraph"&&((P=(I=e==null?void 0:e.paragraph)==null?void 0:I.rich_text[0])==null?void 0:P.plain_text)!=""?(s(),a("div",ne,[r("p",null,i((V=(S=e==null?void 0:e.paragraph)==null?void 0:S.rich_text[0])==null?void 0:V.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="image"?(s(),a("div",ie,[r("img",{src:(z=(j=e==null?void 0:e.image)==null?void 0:j.file)==null?void 0:z.url,alt:""},null,8,pe)])):n("",!0),(e==null?void 0:e.type)=="video"?(s(),a("div",oe,[r("div",de,[r("iframe",{src:`https://www.youtube.com/embed/${K((D=(A=e==null?void 0:e.video)==null?void 0:A.external)==null?void 0:D.url)}`,frameborder:"0",allowfullscreen:""},null,8,ue)])])):n("",!0),(e==null?void 0:e.type)=="code"?(s(),a("div",le,[r("pre",_e,[r("code",null,i((L=(F=e==null?void 0:e.code)==null?void 0:F.rich_text[0])==null?void 0:L.plain_text),1)])])):n("",!0)])}),256)),p.value?(s(),k(b,{key:1})):n("",!0)],64)}}});export{ve as default};
