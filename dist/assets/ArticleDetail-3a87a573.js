import{a as te,s as g}from"./Toast-808e3751.js";import{d as pe,x as le,r as l,o as oe,s as ue,c as a,y as ae,b as n,t as p,j as i,F as m,l as se,m as de,P as _,a as t}from"./index-00ffc75b.js";import{s as ge}from"./SpinerComponent-ec3d0c8b.js";const _e={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},xe={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},he={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},me={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ce={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},ve={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},ye={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},fe=["href"],we={key:1},Te={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ee=["src"],Oe={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},$e={class:"aspect-w-16 aspect-h-9"},Be=["src"],Ne={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ce={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},re="https://api-chatbot.letsdoitnow.us/api",Me=pe({__name:"ArticleDetail",setup(Le){const x=le();l("");const ne=l(localStorage.getItem("Lang")),o=l(!0),u=l(void 0),c=l([]),r=l([]),v=async()=>{o.value=!0;try{const s=await te.post(`${re}/notiondoitpage`,{pageId:u.value});s.status===200?r.value=s.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){g(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}o.value=!1},y=async()=>{o.value=!0;try{const s=await te.post(`${re}/notiondoitpagecontent`,{pageId:u.value});s.status===200?c.value=s.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){g(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}o.value=!1},ie=s=>{if(s){const h=s.split("/");return h[h.length-1]}};return oe(async()=>{typeof x.params.id=="string"&&(u.value=x.params.id),await v(),await y(),ne.value!=r.value.properties.Lang.select.name&&(u.value=r.value.properties.changeLang.url,await v(),await y(),ue.replace(`${x.matched[1].path}/${r.value.properties.changeLang.url}`))}),(s,h)=>{var f,w,T,E,O,$,B,N,C,L,R,S,I,M,P,j,z,V,A,D;return t(),a(m,null,[(w=(f=r.value)==null?void 0:f.cover)!=null&&w.external&&((O=(E=(T=r.value)==null?void 0:T.properties)==null?void 0:E.Titulo)!=null&&O.title[0].plain_text)?(t(),a("div",{key:0,style:ae(`background-image: url(${(N=(B=($=r.value)==null?void 0:$.cover)==null?void 0:B.external)==null?void 0:N.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[n("h1",_e,p((R=(L=(C=r.value)==null?void 0:C.properties)==null?void 0:L.Titulo)==null?void 0:R.title[0].plain_text),1)],4)):(M=(I=(S=r.value)==null?void 0:S.properties)==null?void 0:I.Titulo)!=null&&M.title[0].plain_text?(t(),a("div",{key:1,style:ae(`background-image: url(${(z=(j=(P=r.value)==null?void 0:P.cover)==null?void 0:j.file)==null?void 0:z.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[n("h1",xe,p((D=(A=(V=r.value)==null?void 0:V.properties)==null?void 0:A.Titulo)==null?void 0:D.title[0].plain_text),1)],4)):i("",!0),(t(!0),a(m,null,se(c.value.results,e=>{var F,U,q,G,H,J,K,Q,W,X,Y,Z,b,k,ee;return t(),a("div",he,[(e==null?void 0:e.type)=="heading_1"?(t(),a("div",me,[n("h2",null,p((U=(F=e==null?void 0:e.heading_1)==null?void 0:F.rich_text[0])==null?void 0:U.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="heading_2"?(t(),a("div",ce,[n("h3",null,p((G=(q=e==null?void 0:e.heading_2)==null?void 0:q.rich_text[0])==null?void 0:G.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="heading_3"?(t(),a("div",ve,[n("h4",null,p((J=(H=e==null?void 0:e.heading_3)==null?void 0:H.rich_text[0])==null?void 0:J.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="paragraph"&&((Q=(K=e==null?void 0:e.paragraph)==null?void 0:K.rich_text[0])==null?void 0:Q.plain_text)!=""?(t(),a("div",ye,[n("p",null,[(t(!0),a(m,null,se((W=e==null?void 0:e.paragraph)==null?void 0:W.rich_text,d=>(t(),a("span",null,[d.href?(t(),a("a",{key:0,class:"text-lime-600",href:d.href},p(d.plain_text),9,fe)):(t(),a("span",we,p(d.plain_text),1))]))),256))])])):i("",!0),(e==null?void 0:e.type)=="image"?(t(),a("div",Te,[n("img",{src:(Y=(X=e==null?void 0:e.image)==null?void 0:X.file)==null?void 0:Y.url,alt:""},null,8,Ee)])):i("",!0),(e==null?void 0:e.type)=="video"?(t(),a("div",Oe,[n("div",$e,[n("iframe",{src:`https://www.youtube.com/embed/${ie((b=(Z=e==null?void 0:e.video)==null?void 0:Z.external)==null?void 0:b.url)}`,frameborder:"0",allowfullscreen:""},null,8,Be)])])):i("",!0),(e==null?void 0:e.type)=="code"?(t(),a("div",Ne,[n("pre",Ce,[n("code",null,p((ee=(k=e==null?void 0:e.code)==null?void 0:k.rich_text[0])==null?void 0:ee.plain_text),1)])])):i("",!0)])}),256)),o.value?(t(),de(ge,{key:2})):i("",!0)],64)}}});export{Me as default};
