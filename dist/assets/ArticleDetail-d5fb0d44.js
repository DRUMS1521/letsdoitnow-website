import{a as te,s as g}from"./Toast-282ee910.js";import{d as pe,x as le,r as o,o as oe,s as ue,c as a,y as ae,b as i,t as p,j as n,F as m,l as se,m as de,P as _,a as t}from"./index-470cfd9f.js";import{s as ge}from"./SpinerComponent-69d7cd78.js";const _e={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},xe={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},he={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},me={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ce={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},ve={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},fe={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},ye=["href"],we={key:1},Te={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ee=["src"],Oe={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},$e={class:"aspect-w-16 aspect-h-9"},Be=["src"],Le={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ne={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},re="https://api-chatbot.letsdoitnow.us/api",Me=pe({__name:"ArticleDetail",setup(Ce){const x=le();o("");const ie=o(localStorage.getItem("Lang")),u=o(!0),l=o(void 0),c=o([]),s=o([]),v=async()=>{u.value=!0;try{const r=await te.post(`${re}/notiondoitpage`,{pageId:l.value});r.status===200?s.value=r.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(r){g(`Error al cargar los datos: ${r}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},f=async()=>{u.value=!0;try{const r=await te.post(`${re}/notiondoitpagecontent`,{pageId:l.value});r.status===200?c.value=r.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(r){g(`Error al cargar los datos: ${r}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},ne=r=>{if(r){const h=r.split("/");return h[h.length-1]}};return oe(async()=>{typeof x.params.id=="string"&&(l.value=x.params.id),await v(),await f(),ie.value!=s.value.properties.Lang.select.name&&(s.value.properties.changeLang.url?l.value=s.value.properties.changeLang.url:s.value.properties.changeLang.rich_text[0].plain_text&&(l.value=s.value.properties.changeLang.rich_text[0].plain_text),l.value&&(await v(),await f(),ue.replace(`${x.matched[1].path}/${l.value}`)))}),(r,h)=>{var y,w,T,E,O,$,B,L,N,C,R,S,I,M,P,j,z,V,A,D;return t(),a(m,null,[(w=(y=s.value)==null?void 0:y.cover)!=null&&w.external&&((O=(E=(T=s.value)==null?void 0:T.properties)==null?void 0:E.Titulo)!=null&&O.title[0].plain_text)?(t(),a("div",{key:0,style:ae(`background-image: url(${(L=(B=($=s.value)==null?void 0:$.cover)==null?void 0:B.external)==null?void 0:L.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[i("h1",_e,p((R=(C=(N=s.value)==null?void 0:N.properties)==null?void 0:C.Titulo)==null?void 0:R.title[0].plain_text),1)],4)):(M=(I=(S=s.value)==null?void 0:S.properties)==null?void 0:I.Titulo)!=null&&M.title[0].plain_text?(t(),a("div",{key:1,style:ae(`background-image: url(${(z=(j=(P=s.value)==null?void 0:P.cover)==null?void 0:j.file)==null?void 0:z.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[i("h1",xe,p((D=(A=(V=s.value)==null?void 0:V.properties)==null?void 0:A.Titulo)==null?void 0:D.title[0].plain_text),1)],4)):n("",!0),(t(!0),a(m,null,se(c.value.results,e=>{var F,U,q,G,H,J,K,Q,W,X,Y,Z,b,k,ee;return t(),a("div",he,[(e==null?void 0:e.type)=="heading_1"?(t(),a("div",me,[i("h2",null,p((U=(F=e==null?void 0:e.heading_1)==null?void 0:F.rich_text[0])==null?void 0:U.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_2"?(t(),a("div",ce,[i("h3",null,p((G=(q=e==null?void 0:e.heading_2)==null?void 0:q.rich_text[0])==null?void 0:G.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_3"?(t(),a("div",ve,[i("h4",null,p((J=(H=e==null?void 0:e.heading_3)==null?void 0:H.rich_text[0])==null?void 0:J.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="paragraph"&&((Q=(K=e==null?void 0:e.paragraph)==null?void 0:K.rich_text[0])==null?void 0:Q.plain_text)!=""?(t(),a("div",fe,[i("p",null,[(t(!0),a(m,null,se((W=e==null?void 0:e.paragraph)==null?void 0:W.rich_text,d=>(t(),a("span",null,[d.href?(t(),a("a",{key:0,class:"text-lime-600",href:d.href},p(d.plain_text),9,ye)):(t(),a("span",we,p(d.plain_text),1))]))),256))])])):n("",!0),(e==null?void 0:e.type)=="image"?(t(),a("div",Te,[i("img",{src:(Y=(X=e==null?void 0:e.image)==null?void 0:X.file)==null?void 0:Y.url,alt:""},null,8,Ee)])):n("",!0),(e==null?void 0:e.type)=="video"?(t(),a("div",Oe,[i("div",$e,[i("iframe",{src:`https://www.youtube.com/embed/${ne((b=(Z=e==null?void 0:e.video)==null?void 0:Z.external)==null?void 0:b.url)}`,frameborder:"0",allowfullscreen:""},null,8,Be)])])):n("",!0),(e==null?void 0:e.type)=="code"?(t(),a("div",Le,[i("pre",Ne,[i("code",null,p((ee=(k=e==null?void 0:e.code)==null?void 0:k.rich_text[0])==null?void 0:ee.plain_text),1)])])):n("",!0)])}),256)),u.value?(t(),de(ge,{key:2})):n("",!0)],64)}}});export{Me as default};
