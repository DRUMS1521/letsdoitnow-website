import{a as re,s as g}from"./Toast-7f48c6eb.js";import{d as ue,x as de,r as p,o as ge,s as _e,c as a,y as ne,b as n,t as l,m as i,F as m,k as ie,l as he,P as _,a as t}from"./index-c4bd154b.js";import{s as xe}from"./SpinerComponent-2fbbfdb6.js";const me={class:"text-white text-4xl font-bold drop-shadow-lg shadow-black max-w-2xl"},ce={class:"text-white text-4xl font-bold drop-shadow-lg shadow-black max-w-2xl"},ve={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},fe={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ye={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},we={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},Te={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ee=["href"],Oe={key:1},$e={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Be=["src"],Le={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Ne={class:"aspect-w-16 aspect-h-9"},Ce=["src"],Re={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},Se={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},le="https://api-chatbot.letsdoitnow.us/api",Ve=ue({__name:"ArticleDetail",setup(Ie){const h=de();p("");const oe=p(localStorage.getItem("Lang")),u=p(!0),o=p(void 0),c=p([]),r=p([]),v=async()=>{u.value=!0;try{const s=await re.post(`${le}/notiondoitpage`,{pageId:o.value});s.status===200?r.value=s.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){console.log(s),g(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},f=async()=>{u.value=!0;try{const s=await re.post(`${le}/notiondoitpagecontent`,{pageId:o.value});s.status===200?c.value=s.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){console.log(s),g(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},pe=s=>{if(s){const x=s.split("/");return x[x.length-1]}};return ge(async()=>{typeof h.params.id=="string"&&(o.value=h.params.id),await v(),await f(),oe.value!=r.value.properties.Lang.select.name&&(r.value.properties.changeLang.url?o.value=r.value.properties.changeLang.url:r.value.properties.changeLang.rich_text[0].plain_text&&(o.value=r.value.properties.changeLang.rich_text[0].plain_text),o.value&&(await v(),await f(),_e.replace(`${h.matched[1].path}/${o.value}`)))}),(s,x)=>{var y,w,T,E,O,$,B,L,N,C,R,S,I,M,P,z,V,j,A,D,F,U,q;return t(),a(m,null,[(T=(w=(y=r.value)==null?void 0:y.cover)==null?void 0:w.external)!=null&&T.url&&(($=(O=(E=r.value)==null?void 0:E.properties)==null?void 0:O.Titulo)!=null&&$.title[0].plain_text)?(t(),a("div",{key:0,style:ne(`background-image: url(${(N=(L=(B=r.value)==null?void 0:B.cover)==null?void 0:L.external)==null?void 0:N.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-600 grayscale bg-blend-overlay"},[n("h1",me,l((S=(R=(C=r.value)==null?void 0:C.properties)==null?void 0:R.Titulo)==null?void 0:S.title[0].plain_text),1)],4)):i("",!0),(M=(I=r.value)==null?void 0:I.cover)!=null&&M.file&&((V=(z=(P=r.value)==null?void 0:P.properties)==null?void 0:z.Titulo)!=null&&V.title[0].plain_text)?(t(),a("div",{key:1,style:ne(`background-image: url(${(D=(A=(j=r.value)==null?void 0:j.cover)==null?void 0:A.file)==null?void 0:D.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-600 grayscale bg-blend-overlay"},[n("h1",ce,l((q=(U=(F=r.value)==null?void 0:F.properties)==null?void 0:U.Titulo)==null?void 0:q.title[0].plain_text),1)],4)):i("",!0),(t(!0),a(m,null,ie(c.value.results,e=>{var G,H,J,K,Q,W,X,Y,Z,b,k,ee,te,ae,se;return t(),a("div",ve,[(e==null?void 0:e.type)=="heading_1"?(t(),a("div",fe,[n("h2",null,l((H=(G=e==null?void 0:e.heading_1)==null?void 0:G.rich_text[0])==null?void 0:H.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="heading_2"?(t(),a("div",ye,[n("h3",null,l((K=(J=e==null?void 0:e.heading_2)==null?void 0:J.rich_text[0])==null?void 0:K.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="heading_3"?(t(),a("div",we,[n("h4",null,l((W=(Q=e==null?void 0:e.heading_3)==null?void 0:Q.rich_text[0])==null?void 0:W.plain_text),1)])):i("",!0),(e==null?void 0:e.type)=="paragraph"&&((Y=(X=e==null?void 0:e.paragraph)==null?void 0:X.rich_text[0])==null?void 0:Y.plain_text)!=""?(t(),a("div",Te,[n("p",null,[(t(!0),a(m,null,ie((Z=e==null?void 0:e.paragraph)==null?void 0:Z.rich_text,d=>(t(),a("span",null,[d.href?(t(),a("a",{key:0,class:"text-lime-600",href:d.href},l(d.plain_text),9,Ee)):(t(),a("span",Oe,l(d.plain_text),1))]))),256))])])):i("",!0),(e==null?void 0:e.type)=="image"?(t(),a("div",$e,[n("img",{src:(k=(b=e==null?void 0:e.image)==null?void 0:b.file)==null?void 0:k.url,alt:""},null,8,Be)])):i("",!0),(e==null?void 0:e.type)=="video"?(t(),a("div",Le,[n("div",Ne,[n("iframe",{src:`https://www.youtube.com/embed/${pe((te=(ee=e==null?void 0:e.video)==null?void 0:ee.external)==null?void 0:te.url)}`,frameborder:"0",allowfullscreen:""},null,8,Ce)])])):i("",!0),(e==null?void 0:e.type)=="code"?(t(),a("div",Re,[n("pre",Se,[n("code",null,l((se=(ae=e==null?void 0:e.code)==null?void 0:ae.rich_text[0])==null?void 0:se.plain_text),1)])])):i("",!0)])}),256)),u.value?(t(),he(xe,{key:2})):i("",!0)],64)}}});export{Ve as default};
