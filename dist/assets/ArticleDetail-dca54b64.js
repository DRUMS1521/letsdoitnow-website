import{a as J,s as g}from"./Toast-7ef46755.js";import{d as X,x as Y,r as o,o as Z,s as k,c as s,y as b,b as r,t as p,j as n,F as x,l as K,m as ee,P as _,a as t}from"./index-0a2e8582.js";import{s as te}from"./SpinerComponent-6e15015e.js";const ae={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},se={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},re={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ne={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},ie={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},pe={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},oe=["href"],ue={key:1},le={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},de=["src"],ge={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},_e={class:"aspect-w-16 aspect-h-9"},me=["src"],he={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},xe={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},Q="https://api-chatbot.letsdoitnow.us/api",we=X({__name:"ArticleDetail",setup(ce){const m=Y();o("");const c=o(localStorage.getItem("Lang")),u=o(!0),l=o(void 0),v=o([]),i=o([]),y=async()=>{u.value=!0;try{const a=await J.post(`${Q}/notiondoitpage`,{pageId:l.value});a.status===200?i.value=a.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(a){console.log(a),g(`Error al cargar los datos: ${a}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},f=async()=>{u.value=!0;try{const a=await J.post(`${Q}/notiondoitpagecontent`,{pageId:l.value});a.status===200?v.value=a.data:g("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(a){console.log(a),g(`Error al cargar los datos: ${a}`,"error",3e3,_.BOTTOM_CENTER)}u.value=!1},W=a=>{if(a){const h=a.split("/");return h[h.length-1]}};return Z(async()=>{typeof m.params.id=="string"&&(l.value=m.params.id),await y(),await f(),console.log(c.value,i.value.properties.Lang.select.name),c.value!=i.value.properties.Lang.select.name&&(l.value=i.value.properties.changeLang.url,await y(),await f(),k.replace(`${m.matched[1].path}/${i.value.properties.changeLang.url}`))}),(a,h)=>{var w,T,E,O,B,$,L,N,C;return t(),s(x,null,[(E=(T=(w=i.value)==null?void 0:w.properties)==null?void 0:T.Titulo)!=null&&E.title[0].plain_text?(t(),s("div",{key:0,style:b(`background-image: url(${($=(B=(O=i.value)==null?void 0:O.cover)==null?void 0:B.external)==null?void 0:$.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[r("h1",ae,p((C=(N=(L=i.value)==null?void 0:L.properties)==null?void 0:N.Titulo)==null?void 0:C.title[0].plain_text),1)],4)):n("",!0),(t(!0),s(x,null,K(v.value.results,e=>{var R,S,I,M,P,V,j,z,A,D,F,U,q,G,H;return t(),s("div",se,[(e==null?void 0:e.type)=="heading_1"?(t(),s("div",re,[r("h2",null,p((S=(R=e==null?void 0:e.heading_1)==null?void 0:R.rich_text[0])==null?void 0:S.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_2"?(t(),s("div",ne,[r("h3",null,p((M=(I=e==null?void 0:e.heading_2)==null?void 0:I.rich_text[0])==null?void 0:M.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_3"?(t(),s("div",ie,[r("h4",null,p((V=(P=e==null?void 0:e.heading_3)==null?void 0:P.rich_text[0])==null?void 0:V.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="paragraph"&&((z=(j=e==null?void 0:e.paragraph)==null?void 0:j.rich_text[0])==null?void 0:z.plain_text)!=""?(t(),s("div",pe,[r("p",null,[(t(!0),s(x,null,K((A=e==null?void 0:e.paragraph)==null?void 0:A.rich_text,d=>(t(),s("span",null,[d.href?(t(),s("a",{key:0,class:"text-lime-600",href:d.href},p(d.plain_text),9,oe)):(t(),s("span",ue,p(d.plain_text),1))]))),256))])])):n("",!0),(e==null?void 0:e.type)=="image"?(t(),s("div",le,[r("img",{src:(F=(D=e==null?void 0:e.image)==null?void 0:D.file)==null?void 0:F.url,alt:""},null,8,de)])):n("",!0),(e==null?void 0:e.type)=="video"?(t(),s("div",ge,[r("div",_e,[r("iframe",{src:`https://www.youtube.com/embed/${W((q=(U=e==null?void 0:e.video)==null?void 0:U.external)==null?void 0:q.url)}`,frameborder:"0",allowfullscreen:""},null,8,me)])])):n("",!0),(e==null?void 0:e.type)=="code"?(t(),s("div",he,[r("pre",xe,[r("code",null,p((H=(G=e==null?void 0:e.code)==null?void 0:G.rich_text[0])==null?void 0:H.plain_text),1)])])):n("",!0)])}),256)),u.value?(t(),ee(te,{key:1})):n("",!0)],64)}}});export{we as default};
