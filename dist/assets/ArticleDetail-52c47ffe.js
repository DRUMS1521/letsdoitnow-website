import{a as q,s as l}from"./Toast-79f7a1ae.js";import{d as W,x as X,r as o,o as Y,c as a,y as Z,b as r,t as i,m as n,F as x,k as G,l as k,P as _,a as t}from"./index-017e7491.js";import{s as b}from"./SpinerComponent-34ae51bc.js";const ee={class:"text-white text-4xl font-bold drop-shadow-lg max-w-2xl"},te={class:"px-6 pt-4 sm:px-8 xl:px-12 md:pt-12 text-left"},se={key:0,class:"max-w-screen-md mx-auto prose lg:prose-lg text-5xl"},ae={key:1,class:"max-w-screen-md mx-auto prose lg:prose-lg text-4xl"},re={key:2,class:"max-w-screen-md mx-auto prose lg:prose-lg text-3xl"},ne={key:3,class:"max-w-screen-md mx-auto prose lg:prose-lg"},ie=["href"],pe={key:1},oe={key:4,class:"max-w-screen-md mx-auto prose lg:prose-lg"},ue=["src"],de={key:5,class:"max-w-screen-md mx-auto prose lg:prose-lg"},le={class:"aspect-w-16 aspect-h-9"},_e=["src"],ge={key:6,class:"max-w-screen-md mx-auto prose lg:prose-lg"},me={class:"bg-slate-800 text-white text-left p-2 overflow-auto"},H="https://api-chatbot.letsdoitnow.us/api",ce=W({__name:"ArticleDetail",setup(xe){const h=X();o("");const p=o(!0),g=o(void 0),y=o([]),u=o([]),J=async()=>{p.value=!0;try{const s=await q.post(`${H}/notiondoitpage`,{pageId:g.value});s.status===200?u.value=s.data:l("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){console.log(s),l(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}p.value=!1},K=async()=>{p.value=!0;try{const s=await q.post(`${H}/notiondoitpagecontent`,{pageId:g.value});s.status===200?y.value=s.data:l("Error al cargar los datos","error",3e3,_.BOTTOM_CENTER)}catch(s){console.log(s),l(`Error al cargar los datos: ${s}`,"error",3e3,_.BOTTOM_CENTER)}p.value=!1},Q=s=>{if(s){const m=s.split("/");return m[m.length-1]}};return Y(async()=>{typeof h.params.id=="string"&&(g.value=h.params.id),await J(),await K()}),(s,m)=>{var v,c,f,w,T,E,O,B,N;return t(),a(x,null,[(f=(c=(v=u.value)==null?void 0:v.properties)==null?void 0:c.Titulo)!=null&&f.title[0].plain_text?(t(),a("div",{key:0,style:Z(`background-image: url(${(E=(T=(w=u.value)==null?void 0:w.cover)==null?void 0:T.external)==null?void 0:E.url})`),class:"h-64 mt-8 p-8 flex justify-center items-center bg-no-repeat bg-cover bg-center bg-zinc-900 grayscale"},[r("h1",ee,i((N=(B=(O=u.value)==null?void 0:O.properties)==null?void 0:B.Titulo)==null?void 0:N.title[0].plain_text),1)],4)):n("",!0),(t(!0),a(x,null,G(y.value.results,e=>{var C,R,$,M,I,P,S,V,z,A,D,F,L,j,U;return t(),a("div",te,[(e==null?void 0:e.type)=="heading_1"?(t(),a("div",se,[r("h2",null,i((R=(C=e==null?void 0:e.heading_1)==null?void 0:C.rich_text[0])==null?void 0:R.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_2"?(t(),a("div",ae,[r("h3",null,i((M=($=e==null?void 0:e.heading_2)==null?void 0:$.rich_text[0])==null?void 0:M.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="heading_3"?(t(),a("div",re,[r("h4",null,i((P=(I=e==null?void 0:e.heading_3)==null?void 0:I.rich_text[0])==null?void 0:P.plain_text),1)])):n("",!0),(e==null?void 0:e.type)=="paragraph"&&((V=(S=e==null?void 0:e.paragraph)==null?void 0:S.rich_text[0])==null?void 0:V.plain_text)!=""?(t(),a("div",ne,[r("p",null,[(t(!0),a(x,null,G((z=e==null?void 0:e.paragraph)==null?void 0:z.rich_text,d=>(t(),a("span",null,[d.href?(t(),a("a",{key:0,class:"text-lime-600",href:d.href},i(d.plain_text),9,ie)):(t(),a("span",pe,i(d.plain_text),1))]))),256))])])):n("",!0),(e==null?void 0:e.type)=="image"?(t(),a("div",oe,[r("img",{src:(D=(A=e==null?void 0:e.image)==null?void 0:A.file)==null?void 0:D.url,alt:""},null,8,ue)])):n("",!0),(e==null?void 0:e.type)=="video"?(t(),a("div",de,[r("div",le,[r("iframe",{src:`https://www.youtube.com/embed/${Q((L=(F=e==null?void 0:e.video)==null?void 0:F.external)==null?void 0:L.url)}`,frameborder:"0",allowfullscreen:""},null,8,_e)])])):n("",!0),(e==null?void 0:e.type)=="code"?(t(),a("div",ge,[r("pre",me,[r("code",null,i((U=(j=e==null?void 0:e.code)==null?void 0:j.rich_text[0])==null?void 0:U.plain_text),1)])])):n("",!0)])}),256)),p.value?(t(),k(b,{key:1})):n("",!0)],64)}}});export{ce as default};
